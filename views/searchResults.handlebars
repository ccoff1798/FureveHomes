<label for="breeds"> Looking for a specific type of Floof?</label>
<select name="type" id="type">
    <option value="{{type}}">{{type}}</option>
    <option value="default">All animals</option>
   </select>
<select name="breeds" id="breeds">
    <option value="default">Looking for a specific type of Floof?</option>
    {{#each breeds}}
    <option value="{{breed}}">{{breed}}</option>
    {{/each}}
<section>
    <script>
        window.onload = refreshLocation
        function nextPage(){
        petLocation = document.querySelector('#location')
        pageElement = document.querySelector('#page');
        inputedLocation = petLocation.value
        page = pageElement.value
       searchParams =window.location.search
        pageParamsFirstSplit = searchParams.split('?page=')
        pageParamsSecondSplit = pageParamsFirstSplit[1].split("&")
       locationParams = searchParams.split('&location=')
       currentPage = parseInt(pageParamsSecondSplit[0])
       console.log(currentPage)
       
        currentLocation =locationParams[1]
        window.location.href = `?page=${currentPage + 1}&location=${inputedLocation}`;
        }
        function lastPage(){
        petLocation = document.querySelector('#location')
        inputedLocation = petLocation.value
        pageElement = document.querySelector('#page');
        page = pageElement.value
       searchParams =window.location.search
        pageParamsFirstSplit = searchParams.split('?page=')
        pageParamsSecondSplit = pageParamsFirstSplit[1].split("&")
       locationParams = searchParams.split('&location=')
       currentPage = parseInt(pageParamsSecondSplit[0])
       currentLocation =locationParams[1]
       console.log(currentPage)
       if(currentPage !== 1)
       {
        window.location.href = `?page=${currentPage - 1}&location=${inputedLocation}`;}
        }
        function refreshLocation(){
    searchParams =window.location.search
       locationParams = searchParams.split('&location=')
       currentLocation =locationParams[1]
       document.getElementById("location").setAttribute('value',`${currentLocation}`);
        }
    </script>
</section>
</select>
<button onclick="getOptions()">GO</button>
<script type="text/javascript">
function getOptions(){
   selectBreed = document.querySelector('#breeds');
   selectType = document.querySelector('#type')
    breed = selectBreed.value;
    type = selectType.value
    if(type == "default"){
        window.location.href = '/'
    }
    else if(breed == "default" && type !== "default"){
        window.location.href = `/search/${type}`
    }
    else{
   window.location.href = `/search/${type}/${breed}`
    }
}

</script>
<section>
    Check out these pets!
    <div>
        <ul class="cards">
            {{#each pets}}
            <button onclick="seeMore('{{id}}', event)" type="submit">Wanna see more about me?</button>


            {{#isEqual this.imageUrl null}}
            <img src="../public/images/placeholder.jpg" alt="Placeholder failed to load" width="256" height="256">
            {{else}}
            <img src="{{this.imageUrl}}" alt="placeholder" width="256" height="256">
            {{/isEqual}}
            <li>{{this.name}}</li>
            {{#isEqual this.description null}}
            <li>This Furry Friend is a new addition, sit tight while we try to put this bundle of joy into words</li>
            {{else}}
            <li>{{this.description}}</li>
            {{/isEqual}}
            <li>{{this.type}}</li>
            {{/each}}
        </ul>
    </div>
     <script>
        function seeMore(petId, event){
   event.stopPropagation();
   window.location.href = `/id/${petId}`;
}
    </script>
</section>