<h2><label for="type"> Looking for a specific type of Floof?<br><indent>Check out these pets!</indent></label></h2>
<button><select name="type" id="type">
    <option value="default">All Animals</option>
    <option value="dog">Dog</option>
    <option value="cat">Cat</option>
   </select></button>
<button onclick="getOptions()" >GO</button>
<input type="text"id="location">location
<button value = "2" onclick="nextPage()" id = "page">NEXT</button>
<button value = "2" onclick="lastPage()" id = "page">PREV</button>
<section>
    <script>
        window.onload = refreshLocation
        function nextPage(){
        petLocation = document.querySelector('#location')
        pageElement = document.querySelector('#page');
        inputedLocation = petLocation.value
        page = pageElement.value
       searchParams =window.location.search
        pageParamsFirstSplit = searchParams.split('?page=')
        pageParamsSecondSplit = pageParamsFirstSplit[1].split("&")
       locationParams = searchParams.split('&location=')
       currentPage = parseInt(pageParamsSecondSplit[0])
       console.log(currentPage)
       
        currentLocation =locationParams[1]
        window.location.href = `?page=${currentPage + 1}&location=${inputedLocation}`;
        }
        function lastPage(){
        petLocation = document.querySelector('#location')
        inputedLocation = petLocation.value
        pageElement = document.querySelector('#page');
        page = pageElement.value
       searchParams =window.location.search
        pageParamsFirstSplit = searchParams.split('?page=')
        pageParamsSecondSplit = pageParamsFirstSplit[1].split("&")
       locationParams = searchParams.split('&location=')
       currentPage = parseInt(pageParamsSecondSplit[0])
       currentLocation =locationParams[1]
       console.log(currentPage)
       if(currentPage !== 1)
       {
        window.location.href = `?page=${currentPage - 1}&location=${inputedLocation}`;}
        }
        function refreshLocation(){
    searchParams =window.location.search
       locationParams = searchParams.split('&location=')
       currentLocation =locationParams[1]
       document.getElementById("location").setAttribute('value',`${currentLocation}`);
        }
    </script>
</section>
<script type="text/javascript">
function getOptions(){
   selectType = document.querySelector('#type')
    type = selectType.value
    if(type == "default"){
        window.location.href = '/'
    }
    else{
   window.location.href = `/search/${type}`
    }
}

</script>


<section>
       <div>
    <ul class="cards">
    {{#each pets}}

    {{#isEqual this.imageUrl undefined}}
    <img src="../public/images/placeholder.jpg" alt="Placeholder failed to load" width="256" height="256">
    {{else}}
    <section>{{this.name}}</section>
    <section>{{this.type}}</section>
    <img src="{{this.imageUrl}}" alt="placeholder" width="256" height="256">
    <button onclick="seeMore('{{id}}', event)" type="submit">Wanna see more about me?</button>
    {{/isEqual}}
    {{!-- <div>{{this.id}}</div> --}}
    {{!-- <section>{{this.name}}</section>
    <section>{{this.type}}</section> --}}
    {{/each}}
    </ul>
    </div>
     <script>
        function seeMore(petId, event){
   event.stopPropagation();
   window.location.href = `/id/${petId}`;
}
    </script>
</section>